import{l as ot,m as ye,h as V,o as Q,i as L,w as k,a as v,k as Y,j as ee,t as R,c as be,b as i,T as Ce,d as C,n as I,q as U,s as P,v as Te,x as M,y as j,z as oe,A as J,B as ie,V as st,C as G,D as rt,E as se,F as H,r as O,G as pe,H as ke,I as B,J as re,K as W,L as he,M as ut,N as it,O as ct,P as te,Q as dt,R as q,S as ce,U as At,W as mt,X,Y as ft,Z as we,_ as gt,$ as vt,a0 as yt,a1 as bt,a2 as pt,a3 as _e,a4 as T,a5 as ue,a6 as Se,g as kt,a7 as ht,u as wt,p as _t,e as St}from"./entry.3ee9c555.js";import{_ as Be}from"./close.a5e35187.js";import{_ as de}from"./_plugin-vue_export-helper.c27b6911.js";const Pe=ot("keys",{state:()=>({keys:[{name:"query-game-test",key:"sk-...1nF6",created:new Date(Date.now()),used:"Never"}]}),getters:{},actions:{async createApiToken(e){const{data:t,pending:l,error:a}=await ye("/auth/gen-key","GET",void 0,{name:e});if(console.log(t.value),a.value)throw a.value;return t.value},async editApiToken(e,t){console.log(e,t);const{data:l,pending:a,error:n}=await ye("/auth/edit-token","PATCH",void 0,{name:e,id:t});if(console.log(l.value),n.value)throw n.value;return l.value}}}),Pt="data:image/png;base64,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";const xt={name:"GenerateApiKey",props:["formTitle","name","id"],data(){return{isCreating:this.name?"Save":"Create Secret Key",inviteUser:!1,apiKey:"",keyGenerated:!1}},methods:{close(){this.$emit("close")},async editKey(){console.log("editKey"),await Pe().editApiToken(this.name,this.id),this.keyGenerated=!0},async generateKey(){console.log("generateKey");const e=Pe(),{token:t}=await e.createApiToken(this.name);console.log(t),this.apiKey=t,this.keyGenerated=!0},async copyToClipboard(){try{navigator.clipboard&&navigator.clipboard.writeText&&(await navigator.clipboard.writeText(this.apiKey),console.log("API key copied to clipboard"))}catch(e){console.error("Error copying API key to clipboard:",e)}}}},It={class:"modal-header"},Dt=v("img",{src:Be},null,-1),Ct=[Dt],Tt={id:"modalDescription",class:"modal-body"},Bt={key:0},Vt=v("h3",{class:"modal-subheader"},"Name",-1),Et=["value"],Ft={class:"button-container"},Ot={key:1},Qt=v("p",null,[C(" Please save this secret key somewhere safe and accessible. For security reasons, "),v("b",null,"you won't be able to view it again"),C(" through your Gamer Tools Studio account. If you lose this secret key, you'll need to generate a new one. ")],-1),Kt=["value"],Nt=v("img",{src:Pt},null,-1),Gt=[Nt],Lt={class:"button-container"};function Rt(e,t,l,a,n,r){const s=V("v-col");return Q(),L(Ce,{name:"modal-fade"},{default:k(()=>[v("div",{class:"modal-backdrop",onClick:t[8]||(t[8]=(...o)=>r.close&&r.close(...o))},[v("div",{class:"modal",role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription",onClick:t[7]||(t[7]=Y(()=>{},["stop"]))},[v("header",It,[ee(e.$slots,"header",{},()=>[v("h1",null,R(n.apiKey?"Create new secret key":l.formTitle),1),v("button",{type:"button",class:"btn-close","aria-label":"Close modal",onClick:t[0]||(t[0]=(...o)=>r.close&&r.close(...o))},Ct)])]),v("section",Tt,[ee(e.$slots,"body",{},()=>[n.apiKey?(Q(),be("div",Ot,[i(s,{cols:"12",class:"text-section"},{default:k(()=>[Qt]),_:1}),i(s,{cols:"12",class:"copy-key-section"},{default:k(()=>[i(s,{cols:"11",class:"forms-section"},{default:k(()=>[v("input",{class:"modal-forms",type:"text",placeholder:"My test key",value:n.apiKey,disabled:"",onInput:t[4]||(t[4]=o=>e.$emit("update:name",o.target.value))},null,40,Kt)]),_:1}),i(s,{cols:"2",class:"copy-button-section"},{default:k(()=>[v("div",{class:"img-container methods-bcg",onClick:t[5]||(t[5]=(...o)=>r.copyToClipboard&&r.copyToClipboard(...o))},Gt)]),_:1})]),_:1}),i(s,{cols:"12",class:"footer-section"},{default:k(()=>[v("div",Lt,[v("button",{class:"button",onClick:t[6]||(t[6]=o=>r.close())},R(n.keyGenerated?"Done":n.isCreating),1)])]),_:1})])):(Q(),be("div",Bt,[i(s,{cols:"12",class:"header-section"},{default:k(()=>[Vt]),_:1}),i(s,{cols:"12",class:"forms-section"},{default:k(()=>[v("input",{class:"modal-forms",type:"text",placeholder:"My test key",value:l.name,onInput:t[1]||(t[1]=o=>e.$emit("update:name",o.target.value))},null,40,Et)]),_:1}),i(s,{cols:"12",class:"footer-section"},{default:k(()=>[v("div",Ft,[v("button",{class:"cancel-button",onClick:t[2]||(t[2]=(...o)=>r.close&&r.close(...o))},"Cancel"),v("button",{class:"button",onClick:t[3]||(t[3]=o=>l.id?r.editKey():r.generateKey())},R(n.isCreating),1)])]),_:1})]))])])])])]),_:3})}const Ht=de(xt,[["render",Rt]]);const Ut={name:"RevokeKey",components:{},props:["name"],data(){return{}},methods:{close(){this.$emit("close")}}},Mt={class:"modal-header"},jt=v("h1",null,"Revoke API key",-1),$t=v("img",{src:Be},null,-1),Zt=[$t],Xt={id:"modalDescription",class:"modal-body"},qt=v("p",null," This API key will immediately be disabled. API requests made using this key will be rejected, which could cause any systems still depending on it to break. Once revoked, you'll no longer be able to view or modify this API key. ",-1);function Jt(e,t,l,a,n,r){const s=V("v-col"),o=V("v-row"),u=V("v-container");return Q(),L(Ce,{name:"modal-fade"},{default:k(()=>[v("div",{class:"modal-backdrop",onClick:t[4]||(t[4]=(...c)=>r.close&&r.close(...c))},[v("div",{class:"modal",role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription",onClick:t[3]||(t[3]=Y(()=>{},["stop"]))},[v("header",Mt,[ee(e.$slots,"header",{},()=>[jt,v("button",{type:"button",class:"btn-close","aria-label":"Close modal",onClick:t[0]||(t[0]=(...c)=>r.close&&r.close(...c))},Zt)])]),v("section",Xt,[ee(e.$slots,"body",{},()=>[i(u,null,{default:k(()=>[i(o,null,{default:k(()=>[i(s,{cols:"12",class:"text-section"},{default:k(()=>[qt]),_:1}),i(s,{cols:"12",class:"key-display"},{default:k(()=>[v("div",null,[v("p",null,R(l.name),1)])]),_:1}),i(s,{cols:"12",class:"footer-section"},{default:k(()=>[v("button",{class:"cancel-button",onClick:t[1]||(t[1]=(...c)=>r.close&&r.close(...c))},"Cancel"),v("button",{class:"button red",onClick:t[2]||(t[2]=c=>e.$emit("delete"))}," Revoke Key ")]),_:1})]),_:1})]),_:1})])])])])]),_:3})}const zt=de(Ut,[["render",Jt]]);const Wt=I({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ve=Symbol.for("vuetify:data-table-pagination");function Yt(e){const t=U(e,"page",void 0,a=>+(a??1)),l=U(e,"itemsPerPage",void 0,a=>+(a??10));return{page:t,itemsPerPage:l}}function ea(e){const{page:t,itemsPerPage:l,itemsLength:a}=e,n=P(()=>l.value===-1?0:l.value*(t.value-1)),r=P(()=>l.value===-1?a.value:Math.min(a.value,n.value+l.value)),s=P(()=>l.value===-1||a.value===0?1:Math.ceil(a.value/l.value));Te(()=>{t.value>s.value&&(t.value=s.value)});function o(f){l.value=f,t.value=1}function u(){t.value=oe(t.value+1,1,s.value)}function c(){t.value=oe(t.value-1,1,s.value)}function d(f){t.value=oe(f,1,s.value)}const m={page:t,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:s,itemsLength:a,nextPage:u,prevPage:c,setPage:d,setItemsPerPage:o};return M(Ve,m),m}function ta(){const e=j(Ve);if(!e)throw new Error("Missing pagination!");return e}function aa(e){const{items:t,startIndex:l,stopIndex:a,itemsPerPage:n}=e;return{paginatedItems:P(()=>n.value<=0?t.value:t.value.slice(l.value,a.value))}}const Ee=I({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),xe=J()({name:"VDataTableFooter",props:Ee(),setup(e,t){let{slots:l}=t;const{t:a}=ie(),{page:n,pageCount:r,startIndex:s,stopIndex:o,itemsLength:u,itemsPerPage:c,setItemsPerPage:d}=ta(),m=P(()=>e.itemsPerPageOptions.map(f=>({...f,title:a(f.title)})));return()=>{var f;return i("div",{class:"v-data-table-footer"},[(f=l.prepend)==null?void 0:f.call(l),i("div",{class:"v-data-table-footer__items-per-page"},[i("span",null,[a(e.itemsPerPageText)]),i(st,{items:m.value,modelValue:c.value,"onUpdate:modelValue":h=>d(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),i("div",{class:"v-data-table-footer__info"},[i("div",null,[a(e.pageText,u.value?s.value+1:0,o.value,u.value)])]),i("div",{class:"v-data-table-footer__pagination"},[i(G,{icon:e.firstIcon,variant:"plain",onClick:()=>n.value=1,disabled:n.value===1,"aria-label":a(e.firstPageLabel)},null),i(G,{icon:e.prevIcon,variant:"plain",onClick:()=>n.value=Math.max(1,n.value-1),disabled:n.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&i("span",{key:"page",class:"v-data-table-footer__page"},[n.value]),i(G,{icon:e.nextIcon,variant:"plain",onClick:()=>n.value=Math.min(r.value,n.value+1),disabled:n.value===r.value,"aria-label":a(e.nextPageLabel)},null),i(G,{icon:e.lastIcon,variant:"plain",onClick:()=>n.value=r.value,disabled:n.value===r.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),Ae=rt({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,t)=>{let{slots:l,attrs:a}=t;const n=e.tag??"td";return i(n,se({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:H(e.height),width:H(e.width),left:H(e.fixedOffset||null)}},a),{default:()=>{var r;return[(r=l.default)==null?void 0:r.call(l)]}})}),la=I({headers:{type:Array,default:()=>[]}},"DataTable-header"),Fe=Symbol.for("vuetify:data-table-headers");function na(e,t){const l=O([]),a=O([]);Te(()=>{var h,y,S;const r=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],s=r.flatMap((A,g)=>A.map(b=>({column:b,row:g}))),o=r.length,u={title:"",sortable:!1},c={...u,width:48};if((h=t==null?void 0:t.groupBy)!=null&&h.value.length){const A=s.findIndex(g=>{let{column:b}=g;return b.key==="data-table-group"});A<0?s.unshift({column:{...u,key:"data-table-group",title:"Group",rowspan:o},row:0}):s.splice(A,1,{column:{...u,...s[A].column},row:s[A].row})}if((y=t==null?void 0:t.showSelect)!=null&&y.value){const A=s.findIndex(g=>{let{column:b}=g;return b.key==="data-table-select"});A<0?s.unshift({column:{...c,key:"data-table-select",rowspan:o},row:0}):s.splice(A,1,{column:{...c,...s[A].column},row:s[A].row})}if((S=t==null?void 0:t.showExpand)!=null&&S.value){const A=s.findIndex(g=>{let{column:b}=g;return b.key==="data-table-expand"});A<0?s.push({column:{...c,key:"data-table-expand",rowspan:o},row:0}):s.splice(A,1,{column:{...c,...s[A].column},row:s[A].row})}const d=pe(o).map(()=>[]),m=pe(o).fill(0);s.forEach(A=>{let{column:g,row:b}=A,w=g.key;w==null&&(w="");for(let _=b;_<=b+(g.rowspan??1)-1;_++)d[_].push({...g,key:w,fixedOffset:m[_],sortable:g.sortable??!!g.key}),m[_]+=Number(g.width??0)}),d.forEach(A=>{for(let g=A.length;g--;g>=0)if(A[g].fixed){A[g].lastFixed=!0;return}});const f=new Set;l.value=d.map(A=>{const g=[];for(const b of A)f.has(b.key)||(f.add(b.key),g.push(b));return g}),a.value=d.at(-1)??[]});const n={headers:l,columns:a};return M(Fe,n),n}function ae(){const e=j(Fe);if(!e)throw new Error("Missing headers!");return e}const oa={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:t,value:l}=e;return new Set(l?[(a=t[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},Oe={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,currentPage:l,selected:a}=e;return Oe.select({items:l,value:t,selected:a})}},Qe={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,allItems:l,selected:a}=e;return Qe.select({items:l,value:t,selected:a})}},sa=I({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),Ke=Symbol.for("vuetify:data-table-selection");function ra(e,t){let{allItems:l,currentPage:a}=t;const n=U(e,"modelValue",e.modelValue,A=>new Set(A),A=>[...A.values()]),r=P(()=>l.value.filter(A=>A.selectable)),s=P(()=>a.value.filter(A=>A.selectable)),o=P(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return oa;case"all":return Qe;case"page":default:return Oe}});function u(A){return ke(A).every(g=>n.value.has(g.value))}function c(A){return ke(A).some(g=>n.value.has(g.value))}function d(A,g){const b=o.value.select({items:A,value:g,selected:new Set(n.value)});n.value=b}function m(A){d([A],!u([A]))}function f(A){const g=o.value.selectAll({value:A,allItems:r.value,currentPage:s.value,selected:new Set(n.value)});n.value=g}const h=P(()=>n.value.size>0),y=P(()=>{const A=o.value.allSelected({allItems:r.value,currentPage:s.value});return u(A)}),S={toggleSelect:m,select:d,selectAll:f,isSelected:u,isSomeSelected:c,someSelected:h,allSelected:y,showSelectAll:o.value.showSelectAll};return M(Ke,S),S}function le(){const e=j(Ke);if(!e)throw new Error("Missing selection!");return e}const ua=I({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Ne=Symbol.for("vuetify:data-table-sort");function ia(e){const t=U(e,"sortBy"),l=B(e,"mustSort"),a=B(e,"multiSort");return{sortBy:t,mustSort:l,multiSort:a}}function ca(e){const{sortBy:t,mustSort:l,multiSort:a,page:n}=e,r=u=>{let c=t.value.map(m=>({...m}))??[];const d=c.find(m=>m.key===u.key);d?d.order==="desc"?l.value?d.order="asc":c=c.filter(m=>m.key!==u.key):d.order="desc":a.value?c=[...c,{key:u.key,order:"asc"}]:c=[{key:u.key,order:"asc"}],t.value=c,n&&(n.value=1)};function s(u){return!!t.value.find(c=>c.key===u.key)}const o={sortBy:t,toggleSort:r,isSorted:s};return M(Ne,o),o}function da(){const e=j(Ne);if(!e)throw new Error("Missing sort!");return e}function Aa(e,t,l){const a=ie();return{sortedItems:P(()=>l.value.length?ma(t.value,l.value,a.current.value,e.customKeySort):t.value)}}function ma(e,t,l,a){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return[...e].sort((r,s)=>{for(let o=0;o<t.length;o++){const u=t[o].key,c=t[o].order??"asc";if(c===!1)continue;let d=re(r.raw,u),m=re(s.raw,u);if(c==="desc"&&([d,m]=[m,d]),a!=null&&a[u]){const f=a[u](d,m);if(!f)continue;return f}if(d instanceof Date&&m instanceof Date)return d.getTime()-m.getTime();if([d,m]=[d,m].map(f=>f!=null?f.toString().toLocaleLowerCase():f),d!==m)return W(d)&&W(m)?0:W(d)?-1:W(m)?1:!isNaN(d)&&!isNaN(m)?Number(d)-Number(m):n.compare(d,m)}return 0})}const Ge=I({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:he,default:"$sortAsc"},sortDescIcon:{type:he,default:"$sortDesc"},...ut()},"VDataTableHeaders"),Ie=J()({name:"VDataTableHeaders",props:Ge(),setup(e,t){let{slots:l,emit:a}=t;const{toggleSort:n,sortBy:r,isSorted:s}=da(),{someSelected:o,allSelected:u,selectAll:c,showSelectAll:d}=le(),{columns:m,headers:f}=ae(),{loaderClasses:h}=it(e),y=(_,p)=>{if(!(!e.sticky&&!_.fixed))return{position:"sticky",zIndex:_.fixed?4:e.sticky?3:void 0,left:_.fixed?H(_.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${p})`:void 0}};function S(_){const p=r.value.find(D=>D.key===_.key);return p?p.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:A,backgroundColorStyles:g}=ct(e,"color"),b=P(()=>({headers:f.value,columns:m.value,toggleSort:n,isSorted:s,sortBy:r.value,someSelected:o.value,allSelected:u.value,selectAll:c,getSortIcon:S,getFixedStyles:y})),w=_=>{let{column:p,x:D,y:E}=_;const K=p.key==="data-table-select"||p.key==="data-table-expand";return i(Ae,{tag:"th",align:p.align,class:["v-data-table__th",{"v-data-table__th--sortable":p.sortable,"v-data-table__th--sorted":s(p)},h.value],style:{width:H(p.width),minWidth:H(p.width),...y(p,E)},colspan:p.colspan,rowspan:p.rowspan,onClick:p.sortable?()=>n(p):void 0,lastFixed:p.lastFixed,noPadding:K},{default:()=>{var z;const x=`column.${p.key}`,N={column:p,selectAll:c,isSorted:s,toggleSort:n,sortBy:r.value,someSelected:o.value,allSelected:u.value,getSortIcon:S};return l[x]?l[x](N):p.key==="data-table-select"?((z=l["column.data-table-select"])==null?void 0:z.call(l,N))??(d&&i(ce,{modelValue:u.value,indeterminate:o.value&&!u.value,"onUpdate:modelValue":c},null)):i("div",{class:"v-data-table-header__content"},[i("span",null,[p.title]),p.sortable&&i(At,{key:"icon",class:"v-data-table-header__sort-icon",icon:S(p)},null),e.multiSort&&s(p)&&i("div",{key:"badge",class:["v-data-table-header__sort-badge",...A.value],style:g.value},[r.value.findIndex($=>$.key===p.key)+1])])}})};te(()=>i(q,null,[l.headers?l.headers(b.value):f.value.map((_,p)=>i("tr",null,[_.map((D,E)=>i(w,{column:D,x:E,y:p},null))])),e.loading&&i("tr",{class:"v-data-table-progress"},[i("th",{colspan:m.value.length},[i(dt,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),fa=I({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Le=Symbol.for("vuetify:data-table-group");function ga(e){return{groupBy:U(e,"groupBy")}}function va(e){const{groupBy:t,sortBy:l}=e,a=O(new Set),n=P(()=>t.value.map(c=>({...c,order:c.order??!1})).concat(l.value));function r(c){return a.value.has(c.id)}function s(c){const d=new Set(a.value);r(c)?d.delete(c.id):d.add(c.id),a.value=d}function o(c){function d(m){const f=[];for(const h of m.items)"type"in h&&h.type==="group"?f.push(...d(h)):f.push(h);return f}return d({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:n,toggleGroup:s,opened:a,groupBy:t,extractRows:o,isGroupOpen:r};return M(Le,u),u}function Re(){const e=j(Le);if(!e)throw new Error("Missing group!");return e}function ya(e,t){if(!e.length)return[];const l=new Map;for(const a of e){const n=re(a.raw,t);l.has(n)||l.set(n,[]),l.get(n).push(a)}return l}function He(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=ya(e,t[0]),r=[],s=t.slice(1);return n.forEach((o,u)=>{const c=t[0],d=`${a}_${c}_${u}`;r.push({depth:l,id:d,key:c,value:u,items:s.length?He(o,s,l+1,d):o,type:"group"})}),r}function Ue(e,t){const l=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&l.push(a),(t.has(a.id)||a.value==null)&&l.push(...Ue(a.items,t))):l.push(a);return l}function ba(e,t,l){return{flatItems:P(()=>{if(!t.value.length)return e.value;const n=He(e.value,t.value.map(r=>r.key));return Ue(n,l.value)})}}const pa=I({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ka=J()({name:"VDataTableGroupHeaderRow",props:pa(),setup(e,t){let{slots:l}=t;const{isGroupOpen:a,toggleGroup:n,extractRows:r}=Re(),{isSelected:s,isSomeSelected:o,select:u}=le(),{columns:c}=ae(),d=P(()=>r([e.item]));return()=>i("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[c.value.map(m=>{var f,h;if(m.key==="data-table-group"){const y=a(e.item)?"$expand":"$next",S=()=>n(e.item);return((f=l["data-table-group"])==null?void 0:f.call(l,{item:e.item,count:d.value.length,props:{icon:y,onClick:S}}))??i(Ae,{class:"v-data-table-group-header-row__column"},{default:()=>[i(G,{size:"small",variant:"text",icon:y,onClick:S},null),i("span",null,[e.item.value]),i("span",null,[C("("),d.value.length,C(")")])]})}if(m.key==="data-table-select"){const y=s(d.value),S=o(d.value)&&!y,A=g=>u(d.value,g);return((h=l["data-table-select"])==null?void 0:h.call(l,{props:{modelValue:y,indeterminate:S,"onUpdate:modelValue":A}}))??i("td",null,[i(ce,{modelValue:y,indeterminate:S,"onUpdate:modelValue":A},null)])}return i("td",null,null)})])}}),ha=I({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Me=Symbol.for("vuetify:datatable:expanded");function wa(e){const t=B(e,"expandOnClick"),l=U(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function a(o,u){const c=new Set(l.value);u?c.add(o.value):c.delete(o.value),l.value=c}function n(o){return l.value.has(o.value)}function r(o){a(o,!n(o))}const s={expand:a,expanded:l,expandOnClick:t,isExpanded:n,toggleExpand:r};return M(Me,s),s}function je(){const e=j(Me);if(!e)throw new Error("foo");return e}const _a=I({index:Number,item:Object,onClick:Function},"VDataTableRow"),Sa=mt({name:"VDataTableRow",props:_a(),setup(e,t){let{slots:l}=t;const{isSelected:a,toggleSelect:n}=le(),{isExpanded:r,toggleExpand:s}=je(),{columns:o}=ae();te(()=>i("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&o.value.map((u,c)=>i(Ae,{align:u.align,fixed:u.fixed,fixedOffset:u.fixedOffset,lastFixed:u.lastFixed,noPadding:u.key==="data-table-select"||u.key==="data-table-expand",width:u.width},{default:()=>{var h,y;const d=e.item,m=`item.${u.key}`,f={index:e.index,item:e.item,columns:o.value,isSelected:a,toggleSelect:n,isExpanded:r,toggleExpand:s};return l[m]?l[m](f):u.key==="data-table-select"?((h=l["item.data-table-select"])==null?void 0:h.call(l,f))??i(ce,{disabled:!d.selectable,modelValue:a([d]),onClick:Y(()=>n(d),["stop"])},null):u.key==="data-table-expand"?((y=l["item.data-table-expand"])==null?void 0:y.call(l,f))??i(G,{icon:r(d)?"$collapse":"$expand",size:"small",variant:"text",onClick:Y(()=>s(d),["stop"])},null):X(d.columns,u.key)}}))]))}}),$e=I({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),De=J()({name:"VDataTableRows",props:$e(),setup(e,t){let{emit:l,slots:a}=t;const{columns:n}=ae(),{expandOnClick:r,toggleExpand:s,isExpanded:o}=je(),{isSelected:u,toggleSelect:c}=le(),{toggleGroup:d,isGroupOpen:m}=Re(),{t:f}=ie();return te(()=>{var h;return e.loading&&a.loading?i("tr",{class:"v-data-table-rows-loading",key:"loading"},[i("td",{colspan:n.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?i("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[i("td",{colspan:n.value.length},[((h=a["no-data"])==null?void 0:h.call(a))??f(e.noDataText)])]):i(q,null,[e.items.map((y,S)=>{var b;if(y.type==="group")return a["group-header"]?a["group-header"]({index:S,item:y,columns:n.value,isExpanded:o,toggleExpand:s,isSelected:u,toggleSelect:c,toggleGroup:d,isGroupOpen:m}):i(ka,{key:`group-header_${y.id}`,item:y},a);const A={index:S,item:y,columns:n.value,isExpanded:o,toggleExpand:s,isSelected:u,toggleSelect:c},g={...A,props:{key:`item_${y.key??y.index}`,onClick:r.value||e["onClick:row"]?w=>{var _;r.value&&s(y),(_=e["onClick:row"])==null||_.call(e,w,{item:y})}:void 0,index:S,item:y}};return i(q,null,[a.item?a.item(g):i(Sa,g.props,a),o(y)&&((b=a["expanded-row"])==null?void 0:b.call(a,A))])})])}),{}}}),Pa=I({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function xa(e,t,l,a){const n=e.returnObject?t:X(t,e.itemValue),r=X(t,e.itemSelectable,!0),s=a.reduce((o,u)=>(o[u.key]=X(t,u.value??u.key),o),{});return{type:"item",key:e.returnObject?X(t,e.itemValue):n,index:l,value:n,selectable:r,columns:s,raw:t}}function Ia(e,t,l){return t.map((a,n)=>xa(e,a,n,l))}function Da(e,t){return{items:P(()=>Ia(e,e.items,t.value))}}function Ca(e){let{page:t,itemsPerPage:l,sortBy:a,groupBy:n,search:r}=e;const s=ft("VDataTable"),o=P(()=>({page:t.value,itemsPerPage:l.value,sortBy:a.value,groupBy:n.value,search:r.value}));we(()=>r==null?void 0:r.value,()=>{t.value=1});let u=null;we(o,()=>{gt(u,o.value)||(s.emit("update:options",o.value),u=o.value)},{deep:!0,immediate:!0})}const Ta=I({...$e(),width:[String,Number],search:String,...ha(),...fa(),...la(),...Pa(),...sa(),...ua(),...Ge(),...vt()},"DataTable"),Ba=I({...Wt(),...Ta(),...yt(),...Ee()},"VDataTable"),Va=J()({name:"VDataTable",props:Ba(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{emit:l,slots:a}=t;const{groupBy:n}=ga(e),{sortBy:r,multiSort:s,mustSort:o}=ia(e),{page:u,itemsPerPage:c}=Yt(e),{columns:d,headers:m}=na(e,{groupBy:n,showSelect:B(e,"showSelect"),showExpand:B(e,"showExpand")}),{items:f}=Da(e,d),h=B(e,"search"),{filteredItems:y}=bt(e,f,h,{transform:ne=>ne.columns}),{toggleSort:S}=ca({sortBy:r,multiSort:s,mustSort:o,page:u}),{sortByWithGroups:A,opened:g,extractRows:b,isGroupOpen:w,toggleGroup:_}=va({groupBy:n,sortBy:r}),{sortedItems:p}=Aa(e,y,A),{flatItems:D}=ba(p,n,g),E=P(()=>D.value.length),{startIndex:K,stopIndex:x,pageCount:N,setItemsPerPage:z}=ea({page:u,itemsPerPage:c,itemsLength:E}),{paginatedItems:$}=aa({items:D,startIndex:K,stopIndex:x,itemsPerPage:c}),me=P(()=>b($.value)),{isSelected:Xe,select:qe,selectAll:Je,toggleSelect:ze,someSelected:We,allSelected:Ye}=ra(e,{allItems:f,currentPage:me}),{isExpanded:et,toggleExpand:tt}=wa(e);Ca({page:u,itemsPerPage:c,sortBy:r,groupBy:n,search:h}),pt({VDataTableRows:{hideNoData:B(e,"hideNoData"),noDataText:B(e,"noDataText"),loading:B(e,"loading"),loadingText:B(e,"loadingText")}});const F=P(()=>({page:u.value,itemsPerPage:c.value,sortBy:r.value,pageCount:N.value,toggleSort:S,setItemsPerPage:z,someSelected:We.value,allSelected:Ye.value,isSelected:Xe,select:qe,selectAll:Je,toggleSelect:ze,isExpanded:et,toggleExpand:tt,isGroupOpen:w,toggleGroup:_,items:me.value,groupedItems:$.value,columns:d.value,headers:m.value}));return te(()=>{const[ne]=xe.filterProps(e),[at]=Ie.filterProps(e),[lt]=De.filterProps(e),[nt]=_e.filterProps(e);return i(_e,se({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},nt),{top:()=>{var Z;return(Z=a.top)==null?void 0:Z.call(a,F.value)},default:()=>{var Z,fe,ge,ve;return a.default?a.default(F.value):i(q,null,[(Z=a.colgroup)==null?void 0:Z.call(a,F.value),i("thead",null,[i(Ie,at,a)]),(fe=a.thead)==null?void 0:fe.call(a,F.value),i("tbody",null,[a.body?a.body(F.value):i(De,se(lt,{items:$.value}),a)]),(ge=a.tbody)==null?void 0:ge.call(a,F.value),(ve=a.tfoot)==null?void 0:ve.call(a,F.value)])},bottom:()=>a.bottom?a.bottom(F.value):i(q,null,[i(xe,ne,{prepend:a["footer.prepend"]})])})}),{}}});const Ea={__name:"table-keys",props:["keys"],emits:["deleteItem","addItem","editItem"],setup(e,{emit:t}){const l=t,a=[{title:"Name",align:"start",key:"name"},{title:"Key",align:"end",key:"key"},{title:"Created",align:"end",key:"dateCreated"},{title:"Last Used",align:"end",key:"lastUsed"},{title:"Actions",key:"actions",sortable:!1}],{keys:n}=e;console.log(n);const r=P(()=>s.value===-1?"Create new secret key":"Edit key name"),s=O(-1),o=O({name:"",key:0,created:0,used:"Never"}),u={name:"",key:0,created:null,used:"Never"},c=O(!1),d=O(!1),m=b=>{console.log(b),s.value=n.indexOf(b),o.value=Object.assign({},b),console.log(o.value),c.value=!0},f=b=>{s.value=n.indexOf(b),o.value=Object.assign({},b),d.value=!0},h=()=>{l("deleteItem",s.value),S()},y=()=>{c.value=!1,Se(()=>{o.value=Object.assign({},u),s.value=-1})},S=()=>{d.value=!1,Se(()=>{o.value=Object.assign({},u),s.value=-1})},A=()=>{s.value>-1?l("editItem",s.value,o.value):l("addItem",o.value),y()};function g(b){const w=new Date(b);if(isNaN(w.getTime()))return b;const _=w.toLocaleString("default",{year:"numeric"}),p=w.toLocaleString("default",{month:"2-digit"}),D=w.toLocaleString("default",{day:"2-digit"}),E=w.toLocaleString("default",{hour:"2-digit"}),K=w.toLocaleString("default",{minute:"2-digit"});return`${_}/${p}/${D} ${E}:${K}`}return(b,w)=>{const _=V("v-icon"),p=Ht,D=zt,E=V("v-toolbar"),K=V("v-btn");return Q(),L(T(Va),{headers:a,items:e.keys,"item-value":"name",class:"elevation-0",density:"compact"},{"item.dateCreated":k(({item:x})=>[C(R(g(x.raw.dateCreated)),1)]),"item.lastUsed":k(({item:x})=>[C(R(g(x.raw.lastUsed)),1)]),"item.actions":k(({item:x})=>[i(_,{size:"small",class:"me-2",onClick:N=>m(x.raw)},{default:k(()=>[C(" mdi-pencil ")]),_:2},1032,["onClick"]),i(_,{size:"small",onClick:N=>f(x.raw)},{default:k(()=>[C(" mdi-delete ")]),_:2},1032,["onClick"])]),bottom:k(()=>[i(E,{flat:"",color:"transparent",height:"40",class:"table-toolbar"},{default:k(()=>[T(c)?(Q(),L(p,{key:0,name:T(o).name,"onUpdate:name":w[0]||(w[0]=x=>T(o).name=x),id:T(o).id,"onUpdate:id":w[1]||(w[1]=x=>T(o).id=x),formTitle:T(r),onClose:w[2]||(w[2]=x=>(y(),c.value=!1)),onSave:A},null,8,["name","id","formTitle"])):ue("",!0),T(d)?(Q(),L(D,{key:1,name:T(o).name,onClose:w[3]||(w[3]=x=>S()),onDelete:h},null,8,["name"])):ue("",!0),v("button",{class:"cancel-button",onClick:w[4]||(w[4]=x=>c.value=!0)},"+ Create new secret key")]),_:1})]),"no-data":k(()=>[i(K,{color:"primary"},{default:k(()=>[C(" Reset ")]),_:1})]),_:2},1032,["items"])}}},Fa=Ea;const Ze=e=>(_t("data-v-4af2ae30"),e=e(),St(),e),Oa=Ze(()=>v("h1",null,"API Keys",-1)),Qa=Ze(()=>v("p",null,[C(" Your secret API keys are listed below. Please note that we do not display your secret API keys again after you generate them."),v("br"),v("br"),C("Do not share your API key with others, or expose it in the browser or other client-side code. In order to protect the security of your account, Gamer Tools Studio may also automatically disable any API key that we've found has leaked publicly. ")],-1));const Ka={__name:"api-keys",setup(e){const t=kt(),{keys:l}=ht(t);O(!1);function a(s){console.log(s),l.value.splice(s,1)}function n(s,o){console.log(s,o),Object.assign(l.value[s],o)}function r(s){console.log(s),s.created=new Date(Date.now()),l.value.push(s)}return wt({title:"API Keys "}),(s,o)=>{const u=V("v-col"),c=Fa,d=V("v-row"),m=V("v-container");return Q(),L(m,{class:"keys-page"},{default:k(()=>[i(d,null,{default:k(()=>[i(u,{cols:"12"},{default:k(()=>[Oa]),_:1}),i(u,{cols:"12"},{default:k(()=>[Qa]),_:1}),i(u,{cols:"12"},{default:k(()=>[i(c,{keys:T(l),onDeleteItem:a,onEditItem:n,onAddItem:r},null,8,["keys"])]),_:1}),ue("",!0)]),_:1})]),_:1})}}},Ra=de(Ka,[["__scopeId","data-v-4af2ae30"]]);export{Ra as default};
