import{l as K,g as z,m as G,aa as H,ab as B,f as Y,ac as J,ad as F,ae as Z,af as Q,r as S,ag as W,ah as X,Z as tt,ai as N,aj as R,ak as et,u as st,a7 as nt,s as y,h as P,i as I,w as r,a4 as d,o as A,b as i,d as T,t as O,a as o,a5 as $}from"./entry.3ee9c555.js";const at=K("tokenCount",{state:()=>({maxTokens:1e5,monthlyInput:[],monthlyOutput:[],currentMonth:new Date().getMonth(),currentYear:new Date().getFullYear()}),actions:{updateProgressInput(t){this.progressInput=t},updateProgressOutput(t){this.progressOutput=t},async changeMonth(t){var e,s;this.currentMonth=t,this.currentMonth==-1&&(this.currentMonth=11,this.currentYear-=1),this.currentMonth==12&&(this.currentMonth=0,this.currentYear+=1);try{const a=z(),{data:n,pending:u,error:h}=await G(H,"POST",{month:this.currentMonth,year:this.currentYear,accountId:a.username});if(h.value)throw h.value;this.monthlyInput=((e=n==null?void 0:n.value.monthly)==null?void 0:e.input)||[],this.monthlyOutput=((s=n==null?void 0:n.value.monthly)==null?void 0:s.output)||[]}catch(a){console.error(a)}}},getters:{getProgressInput(t){return t.progressInput},getProgressOutput(t){return t.progressOutput}}}),ot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rt=["January","February","March","April","May","June","July","August","September","October","November","December"];function ut(t){const e=new Date(new Date().getFullYear(),t+1,0).getDate(),s=[];for(let a=0;a<e;a++)s.push(`${a+1} ${ot[t]} `);return s}function lt(t){return rt[t]}function U(t){let e=[],s=0;for(let a=0;a<t.length;a++)s+=t[a],e.push(s);return e}const V={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},ct={type:{type:String,required:!0},...V},it=Q[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function M(t){return R(t)?N(t):t}function dt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return R(e)?new Proxy(t,{}):t}function pt(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function E(t,e){t.labels=e}function L(t,e,s){const a=[];t.datasets=e.map(n=>{const u=t.datasets.find(h=>h[s]===n[s]);return!u||!n.data||a.includes(u)?{...n}:(a.push(u),Object.assign(u,n),u)})}function ht(t,e){const s={labels:[],datasets:[]};return E(s,t.labels),L(s,t.datasets,e),s}const ft=Y({props:ct,setup(t,e){let{expose:s}=e;const a=S(null),n=J(null);s({chart:n});const u=()=>{if(!a.value)return;const{type:f,data:b,options:m,plugins:g,datasetIdKey:w}=t,k=ht(b,w),v=dt(k,b);n.value=new B(a.value,{type:f,data:v,options:{...m},plugins:g})},h=()=>{const f=N(n.value);f&&(f.destroy(),n.value=null)},_=f=>{f.update(t.updateMode)};return W(u),X(h),tt([()=>t.options,()=>t.data],(f,b)=>{let[m,g]=f,[w,k]=b;const v=N(n.value);if(!v)return;let C=!1;if(m){const p=M(m),l=M(w);p&&p!==l&&(pt(v,p),C=!0)}if(g){const p=M(g.labels),l=M(k.labels),c=M(g.datasets),x=M(k.datasets);p!==l&&(E(v.config.data,p),C=!0),c&&c!==x&&(L(v.config.data,c,t.datasetIdKey),C=!0)}C&&_(v)},{deep:!0}),()=>F("canvas",{ref:a})}});function gt(t,e){return B.register(e),Y({props:V,setup(s,a){let{expose:n}=a;const u=J(null),h=_=>{u.value=_==null?void 0:_.chart};return n({chart:u}),()=>F(ft,it({ref:h},{type:t,...s}))}})}const vt=gt("bar",Z);const _t=o("h1",null,"Usage",-1),mt=o("p",null," Below you'll find a summary of API usage for your organization. All dates and times are UTC-based, and data may be delayed up to 5 minutes. ",-1),yt={class:"switch-field"},bt=o("h3",null,"Daily usage (1,000 tokens)",-1),kt=o("h3",null,"Token usage count",-1),Ct={class:"progress-container"},Mt=o("div",{class:"progress-bar input-tokens"},null,-1),wt={class:"progress-values"},xt={class:"progress-container"},Ot=o("div",{class:"progress-bar output-tokens"},null,-1),Pt={class:"progress-values"},Dt=o("h3",null,"Active subsciption pack",-1),It=o("div",{class:"current-box"},[o("h4",null,"Free Trial")],-1),At=o("button",{class:"button"},"Upgrade account",-1),Tt=!0,St=!0,$t={__name:"usage",setup(t){et(p=>({"4d667718":d(f),"00581032":d(b)})),st({title:"Usage"});const e=at(),{monthlyInput:s,monthlyOutput:a,currentMonth:n,maxTokens:u}=nt(e),h=y(()=>s.value.reduce((p,l)=>p+l,0)),_=y(()=>a.value.reduce((p,l)=>p+l,0)),f=y(()=>`${h.value/u.value*100}%`),b=y(()=>`${_.value/u.value*100}%`),m=e.changeMonth,g=S(!1),w=y(()=>lt(n.value)),k=y(()=>ut(n.value));m(n);const v=y(()=>({labels:k.value,datasets:[{label:"Input tokens",backgroundColor:"#6200EE",data:g.value?U(s.value):s.value},{label:"Output tokens",backgroundColor:"#C834A4",data:g.value?U(a.value):a.value}]})),C=S({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}});return(p,l)=>{const c=P("v-col"),x=P("v-btn"),j=P("v-row"),q=P("v-container");return A(),I(q,{class:"usage-page"},{default:r(()=>[i(j,null,{default:r(()=>[i(c,{cols:"12"},{default:r(()=>[_t]),_:1}),i(c,{cols:"12",class:"intro-text"},{default:r(()=>[mt]),_:1}),i(c,{cols:"8",class:"month-title-section"},{default:r(()=>[Tt?(A(),I(x,{key:0,flat:"",class:"switch-month",onClick:l[0]||(l[0]=D=>d(m)(d(n)-1))},{default:r(()=>[T("<")]),_:1})):$("",!0),i(x,{flat:"",class:"month-title",width:"120"},{default:r(()=>[T(O(d(w)),1)]),_:1}),St?(A(),I(x,{key:1,flat:"",class:"switch-month",onClick:l[1]||(l[1]=D=>d(m)(d(n)+1))},{default:r(()=>[T(">")]),_:1})):$("",!0)]),_:1}),i(c,{cols:"4",class:"daily-section"},{default:r(()=>[o("div",yt,[o("label",{for:"usage-view-radio-daily",onClick:l[2]||(l[2]=D=>g.value=!1)},"Daily"),o("label",{for:"usage-view-radio-cumulative",onClick:l[3]||(l[3]=D=>g.value=!0)},"Cumulative")])]),_:1}),i(c,{cols:"12",class:"chart-title"},{default:r(()=>[bt]),_:1}),i(c,{cols:"12",class:"chart-area"},{default:r(()=>[i(d(vt),{data:d(v),options:d(C)},null,8,["data","options"])]),_:1}),i(c,{cols:"12"},{default:r(()=>[kt]),_:1}),i(c,{cols:"12",class:"progress-section"},{default:r(()=>[o("div",Ct,[Mt,o("div",wt,[o("p",null,O(d(h))+" / "+O(d(u))+" input tokens",1)])])]),_:1}),i(c,{cols:"12",class:"progress-section"},{default:r(()=>[o("div",xt,[Ot,o("div",Pt,[o("p",null,O(d(_))+" / "+O(d(u))+" output tokens",1)])])]),_:1}),i(c,{cols:"4",class:"current-subscription"},{default:r(()=>[Dt]),_:1}),i(c,{cols:"4",class:"current-pack"},{default:r(()=>[It]),_:1}),i(c,{cols:"4",class:"upgrade-section"},{default:r(()=>[At]),_:1})]),_:1})]),_:1})}}};export{$t as default};
